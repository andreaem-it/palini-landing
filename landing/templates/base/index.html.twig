{% extends 'base/base.html.twig' %}
{% block body %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-8 px-0">
                <div id="carousel" class="carousel slide h-100 w-100" data-ride="carousel">
                    <ol class="carousel-indicators">
                        {% for image in images %}
                            <li data-target="#carousel" data-slide-to="{{ items.0.id }}" class="active"></li>
                        {% endfor %}
                    </ol>
                    <div class="carousel-inner">
                        {% for image in images %}
                            <div class="carousel-item {% if loop.first %}active{% endif %}">
                                <img class="d-block w-100 h-100" src="{{ image }}" alt="{{ items.0.title }}">
                                {#<div class="carousel-caption d-none d-md-block">#}
                                    {#<h5>{{ items.0.title }}</h5>#}
                                    {#<p>{{ items.0.description }}</p>#}
                                {#</div>#}
                            </div>
                        {% endfor %}
                    </div>
                    <a class="carousel-control-prev" href="" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
            <div class="col-4 px-0 mx-0">
                <div class="card h-100">
                    <div class="card-body pr-0 pl-0">

                        <h5 class="display-5 ml-3 mr-3 mb-5">{{ items.0.description }}</h5>
                        <div class="float-left" style=" border-radius: 100000px; background-color: #19953c; width: 50px; position:relative; margin-right: 50%"></div>
                        <div class="ml-0 mr-0 mb-5 pt-2 pb-2 text-center text-white display-2 font-weight-bold" style="background-color: #19953c; width:200%; float:right">
                            <span class="display-4 text-nowrap float-left mt-3 ml-5">{{ items.0.title }}</span>
                            <span class="text-right float-right mr-5">{{ items.0.priceOffer|number_format(2,',') }} € </span>
                            {% set reduction = items.0.priceStart|number_format(2) - items.0.priceOffer|number_format(2) %}
                            <h4 class="price-reduction text-right display-5 pt-3 mt-5"><strike>{{ items.0.priceStart|number_format(2,',') }} € !</strike></h4>
                        </div>

                        <div class="countdown text-center mt-5  bg-danger text-white">
                            <p class="text-uppercase" style="    margin-top: 195px;">AFFRETTATI, HAI ANCORA A DISPOSIZIONE</p>
                            <span id="clock" class="display-4 text-white">
                            </span>
                        </div>
                        <div class="mt-5 mx-auto">
                            <a href="" class="btn btn-outline-info font-weight-bold btn-block btn-lg w-50 mx-auto" style="border-radius: 80px">Scopri</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row px-0">
            <section class="col-12 py-5 bg-info">
                <div class="container">
                    <div class="row text-light">
                        <div class="col">

                            <h2 class="display-2 animated bounceInLeft"><i class="far fa-bell text-warning"></i> Cosa c'è di nuovo?</h2>
                            <h3 class="display-5 animated fadeInDown pb-4">Iscriviti e rimani aggiornato! Puoi vincere un Buono Sconto!</h3>

                            <form class="form" role="form">

                                <div class="row">

                                    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-5">

                                        <div class="form-group">
                                            <label class="sr-only" for="formGroupExampleInput">Your Name</label>
                                            <input type="text" class="form-control animated fadeIn" id="formGroupExampleInput" placeholder="Your Name">
                                        </div>

                                    </div><!-- e col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-5-->

                                    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-5">

                                        <div class="form-group">
                                            <label class="sr-only" for="exampleInputEmail2">Email address</label>
                                            <input type="email" class="form-control animated fadeIn" id="exampleInputEmail2" placeholder="Your Email">
                                        </div>

                                    </div><!-- e col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-5 -->

                                    <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">

                                        <a class="btn btn-warning btn-xs animated bounceInDown" href="#"><i class="far fa-envelope text-dark"></i>Vai </a>

                                    </div><!-- e col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2 -->

                                </div><!-- e row -->

                            </form>

                        </div><!-- e col -->
                    </div><!-- e row -->
                </div><!-- e container -->
            </section>
        </div>
        <footer class="bg-secondary px-0 row ">
            <div class="col-6 px-5 mt-4">
                <img style="max-height: 80px" src="http://www.palinitessile.it/wp-content/uploads/2018/05/logo-colori-palini-con-sfondo-bianco.png" class="img-fluid px-5 mx-5 mt-4">
                <div class="textwidget px-5 mx-5 mt-4 mb-5 text-white">
                    <strong>PALINI TESSILE S.N.C.<br>
                        DI PALINI RENZO E PULETTI CATERINA</strong><br>
                    Via G. Vasari Loc. Paciana <br>
                    06034 Foligno (PG)<br>
                    tel 0742 301557<br>
                    fax 0742 301558<br>
                    P. iva: 01946880547<br>
                    <a href="mailto:info@palinitessile.it">info@palinitessile.it</a><br></div>
            </div>
            <div class="col-6 pr-0">
                <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBYOXsHpl5HdhwhbHY1-7OdvKpXg5WH25M"></script>

                    <div id="map" style="width: 100%; height: 400px;"></div>

                        <script type="text/javascript">
                        var locations = [
                            ['Foligno', 42.9663959, 12.6763736, 4],
                            ['Perugia', 43.0890261, 12.3665272, 4],
                            ['Bastia Umbra', 43.0653161, 12.560082, 4]
                        ];

                        var map = new google.maps.Map(document.getElementById('map'), {
                            zoom: 10,
                            center: new google.maps.LatLng(42.9663959, 12.6763736),
                            mapTypeId: google.maps.MapTypeId.ROADMAP
                        });

                        var infowindow = new google.maps.InfoWindow();

                        var marker, i;

                        for (i = 0; i < locations.length; i++) {
                            marker = new google.maps.Marker({
                                position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                                map: map
                            });

                            google.maps.event.addListener(marker, 'click', (function(marker, i) {
                                return function() {
                                    infowindow.setContent(locations[i][0]);
                                    infowindow.open(map, marker);
                                }
                            })(marker, i));
                        }
                </script>

            </div>
        </footer>
        <div class="after-footer-credits">
            <div class="row">
                <div class="col-12 text-center text-white pt-4 pb-4" style="background-color: #313131">
                    &copy; Palini Tessile snc - {{ "now"|date('Y') }} - Handcrafted by <a href="http://www.andreaem.it">AndreaEM</a>
                </div>
            </div>
        </div>
    </div>
    <script>
        $('#clock').countdown('{{ items.0.expiration|date("Y/m/d") }}')
            .on('update.countdown', function(event) {
                var format = '%H:%M:%S';
                if(event.offset.totalDays > 0) {
                    format = '%-d giorni%!d ' + format;
                }
                if(event.offset.weeks > 0) {
                    format = '%-w settimana%!w ' + format;
                }
                $(this).html(event.strftime(format));
            })
            .on('finish.countdown', function(event) {
                $(this).html('Offerta scaduta!')
                    .parent().addClass('disabled');

            });
    </script>
    <style>
    </style>
{% endblock %}